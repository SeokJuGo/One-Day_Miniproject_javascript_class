<html>
<head>
  <style type="text/css">
    .container {
      max-width: 600px;
      margin: 0 auto;
    }
    header {
      
  position: fixed;
  top: 0;
  /* width: 100% */
  left: 0;
  right: 0;

  /* ìƒëµ */
}
    .product-box {
      background-color: #f1f1f1;
      padding: 20px;
      margin-bottom: 20px;
      text-align: center;
    }
        .cart {
    display: inline-block;
    position: relative;
    }

    .cart-count {
    position: absolute;
    top: 0;
    right: 0;
    background-color: red;
    color: white;
    font-size: 12px;
    padding: 3px 7px;
    border-radius: 50%;
    }
    img {
      width: 100%;
    }
    button#add-to-cart {
        position: absolute;
    top: 10px;
    right: 10px;
    width: 10px;
    height: 10px;
    
}
#floatdiv {
    position:fixed; 
    width:175px;
    display:inline-block;
    right:0px; /* ì°½ì—ì„œ ì˜¤ë¥¸ìª½ ê¸¸ì´ */
    top:94%; /* ì°½ì—ì„œ ìœ„ì—ì„œ ë¶€í„°ì˜ ë†’ì´ */
    background-color: transparent;
    margin:0;
}
#floatdiv2 {
    position:fixed; 
    width:175px;
    display:inline-block;
    right:50px; /* ì°½ì—ì„œ ì˜¤ë¥¸ìª½ ê¸¸ì´ */
    top:50%; /* ì°½ì—ì„œ ìœ„ì—ì„œ ë¶€í„°ì˜ ë†’ì´ */
    background-color: transparent;
    margin:0;
}
  </style>
  <script>
    class Member {
  
  constructor(name) {
    this.name = name;
    this.total = 0;
    this.reward = 0;
    this.delivery_fee = 3000;
    this.cart = new Cart();
  }
    info() { 
    console.log(`ì´ë¦„: ${this.name}`);
  }
    buy(product,value=1) {
      this.total += product.p_price*value;
      product.quantity-=value 
      console.log(`${this.name}ë‹˜ì´ ${product.p_name}(â‚©${product.p_price*value})ë¥¼ ${value}ê°œ ìƒ€ìŠµë‹ˆë‹¤!`);
  }
    add_cart(product, quantity) {
      this.cart.add_item(product, quantity);
    }
     delete_cart(product) {
       this.cart.delete_item(product);
  }
    get_cart() {
      return this.cart;
    }
 }




// 0. ì¡°ê±´: ë“±ê¸‰ì€ ì¼ë°˜íšŒì›, í”„ë Œì¦ˆ, í¼í”Œ(Plain, Friends, Purple) + ê°œì¸ì •ë³´ëŠ” ì´ë¦„ë§Œ ë°›ìŠµë‹ˆë‹¤. ì´ì™¸ 3ê°œ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ”ë° í•„ìš”í•œ ì†ì„±, í•¨ìˆ˜ë¥¼ ì§ì ‘ ë…¼ì˜í•˜ê³  êµ¬í˜„í•´ë³´ì„¸ìš”
class PlaneMember extends Member {
  constructor(name,total,reward,delivery_fee) {
    super(name,total,reward,delivery_fee);
    reward=this.total*0.005;
  }
  
  info_check(){
    super.info();
    this.reward=this.total*0.005;
    console.log(`ì´ êµ¬ë§¤ê¸ˆì•¡ : â‚©${this.total} , ì ë¦½ê¸ˆ : â‚©${this.reward},íšŒì›ë“±ê¸‰ë²ˆí˜¸: ì¼ë°˜`);
  }

  
}

class FriendsMember extends Member {
  constructor(name,total,reward,delivery_fee) {
    super(name,total,reward,delivery_fee);
    reward=total*0.01;
    delivery_fee=2000;
  }
  info_check(){
    super.info();
    this.reward=total*0.01;
    console.log(`ì´ êµ¬ë§¤ê¸ˆì•¡ : â‚©${this.total} , ì ë¦½ê¸ˆ : â‚©${this.reward}, íšŒì›ë“±ê¸‰ë²ˆí˜¸: í”„ë Œì¦ˆ`);
  }
  


}

class PurpleMember extends Member {
  constructor(name,total,reward,delivery_fee) { 
    super(name, total);
    delivery_fee=0;
    reward=total*0.07;
  }
   info_check(){
    super.info();
    this.reward=total*0.07;
    console.log(`ì´ êµ¬ë§¤ê¸ˆì•¡ : â‚©${this.total} , ì ë¦½ê¸ˆ : â‚©${this.reward},íšŒì›ë“±ê¸‰ë²ˆí˜¸: í¼í”Œ`);
  }
  
  
  
}


// 1. ì¼ë ¨ë²ˆí˜¸, ìƒí’ˆëª…, ìˆ˜ëŸ‰, ê°€ê²©ì„ ì†ì„±ìœ¼ë¡œ ê°€ì§€ëŠ” Product í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•´ë³´ì„¸ìš”. (ì¼ë ¨ë²ˆí˜¸ëŠ” ìë™ ì…ë ¥ë¨)



class Product {
  static product_num = 0;
  constructor(p_name, p_quantity, p_price,jjim=0) {
    this.p_num = ++Product.product_num;
    this.p_name = p_name;
    this.p_quantity = p_quantity;
    this.p_price = p_price;
    this.jjim = jjim;
  }

  get num() {
    return this.p_num;
  }

  get name() {
    return this.p_name;
  }

  set name(value) {
    this.p_name = value;
  }

  get quantity() {
    return this.p_quantity;
  }

  set quantity(value) {
    this.p_quantity = value;
  }

  get price() {
    return this.p_price;
  }

  set price(value) {
    this.p_price = value;
  }
}  



class Cart {
  constructor() {
    this.items = [];
  }

  add_item(product, quantity) {
    let exist = this.items.find(i => i.product.name === product.name);
    if (exist) {
      exist.quantity += quantity;
    } else {
      this.items.push({ product, quantity });
    }
  }
  delete_item(product) {
    this.items.pop({product});
  }
  get_items() {
    return this.items;
  }
}


class Message {
        constructor(elementId) {
          this.element = document.getElementById(elementId);
        }

        show(message) {
          this.element.innerHTML = message;
        }
      }

  </script>

</head>
<header>
<img src="header.png" height="40" width="200" >
</header>
<body>
  <div id="floatdiv">
  </div>
  <div id="floatdiv2">Hi
  </div>
    <script type="text/javascript" src="project.js"></script>
    <div class="cart">
        <img src="cart.png" alt="cart">
        <span class="cart-count">0</span>
      </div>
    </br>

  <div class="container">
    
    <h2>ğŸ‡ ì‹í’ˆ ëª©ë¡ ğŸ‡</h2>
    <div class="row">
      <div class="col-6">
        <div class="product-box">
          <img src="product1.jpg" class="img-fluid">
          <h2 id = "aa">ë°”ë‚˜ë‚˜</h2> 
          <p>ê°€ê²©: â‚©1500</p>
          <p>ìˆ˜ëŸ‰:
            <select id="qtt1">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </p>
          <button id="c_btn1">ì¥ë°”êµ¬ë‹ˆ</button>
          <button id="b_btn1">êµ¬ë§¤</button>
        </div>
      </div>
      <div class="col-6">
        <div class="product-box">
          <img src="product2.jpg" class="img-fluid">
          <h2> ìƒëŸ¬ë“œ </h2>
          <p>ê°€ê²©: â‚©5000</p>
          <p>ìˆ˜ëŸ‰:
            <select id="qtt2">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </p>
          <button id="c_btn2">ì¥ë°”êµ¬ë‹ˆ</button>
          <button id="b_btn2">êµ¬ë§¤</button>
        </div>
      </div>
      <div class="col-6">
        <div class="product-box">
          <img src="product3.jpg" class="img-fluid">
          <h2>ì•„ë³´ì¹´ë„</h2>
          <p>ê°€ê²©: â‚©3000</p>
          <p>ìˆ˜ëŸ‰:
            <select id="qtt3">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </p>
          <button id="c_btn3">ì¥ë°”êµ¬ë‹ˆ</button>
          <button id="b_btn3">êµ¬ë§¤</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>


<script>
const Go = new PlaneMember("SeokJu"); 


  //ì´ ë¦„ <div id = name>sa</div></br>
  //    ì´ ì•¡ <div id = total>sa</div></br>
  //    ë“± ê¸‰ <div id = grade>sa</div></br>

  new Message("floatdiv").show(`${Go.name}ë‹˜ êµ¬ë§¤ê¸ˆì•¡ : ${Go.total}`); 
    const banana = new Product("ë°”ë‚˜ë‚˜", 1000,1500)
    const salad = new Product("ìƒëŸ¬ë“œ", 1000,5000)
    const abocado = new Product("ì•„ë³´ì¹´ë„",1000, 3000)


    document.getElementById("c_btn1").onclick = function () {
      Go.add_cart(banana, Number(document.getElementById("qtt1").value));
      alert(`ë°”ë‚˜ë‚˜ë¥¼ ${document.getElementById("qtt1").value}ê°œ ì¹´íŠ¸ì— ë‹´ì•˜ìŠµë‹ˆë‹¤!`);
      new Message("floatdiv2").show(`${Go.name}ë‹˜ ì¹´íŠ¸ : ${Go.get_cart['product']['p_name']}`); 
      
        };

    document.getElementById("b_btn1").onclick = function () {
      Go.buy(banana, Number(document.getElementById("qtt1").value));
      alert(`ë°”ë‚˜ë‚˜ë¥¼ ${document.getElementById("qtt1").value}ê°œ ìƒ€ìŠµë‹ˆë‹¤!`);
      new Message("floatdiv").show(`${Go.name}ë‹˜ êµ¬ë§¤ê¸ˆì•¡ : ${Go.total}`); 
      };




    document.getElementById("c_btn2").onclick = function () {
  
      Go.add_cart(salad, Number(document.getElementById("qtt2").value));
      alert(`ìƒëŸ¬ë“œë¥¼ ${document.getElementById("qtt2").value}ê°œ ì¹´íŠ¸ì— ë‹´ì•˜ìŠµë‹ˆë‹¤!`);
      };

    document.getElementById("b_btn2").onclick = function () {
      Go.buy(salad, Number(document.getElementById("qtt2").value));
      alert(`ìƒëŸ¬ë“œë¥¼ ${document.getElementById("qtt2").value}ê°œ ìƒ€ìŠµë‹ˆë‹¤!`);
      new Message("floatdiv").show(`${Go.name}ë‹˜ êµ¬ë§¤ê¸ˆì•¡ : ${Go.total}`); 
      };





    document.getElementById("c_btn3").onclick = function () {
      Go.add_cart(abocado,Number(document.getElementById("qtt3").value));
      alert(`ì•„ë³´ì¹´ë„ê°€ ${document.getElementById("qtt3").value}ê°œ ì¹´íŠ¸ì— ë‹´ì•˜ìŠµë‹ˆë‹¤!`);
      };

    document.getElementById("b_btn3").onclick = function () {
      Go.buy(abocado,Number(document.getElementById("qtt3").value));
      alert(`ì•„ë³´ì¹´ë„ë¥¼ ${document.getElementById("qtt3").value}ê°œ ìƒ€ìŠµë‹ˆë‹¤!`);
      new Message("floatdiv").show(`${Go.name}ë‹˜ êµ¬ë§¤ê¸ˆì•¡ : ${Go.total}`); 
      };





// JooëŠ” í”„ë Œì¦ˆíšŒì›
const Joo = new FriendsMember("Hansol");

// Jeonì€ í¼í”ŒíšŒì›
const Jeon = new PurpleMember("hyunjun");


const mouse= new Product("ë§ˆìš°ìŠ¤", 20, 20000);
const notebook = new Product("ë…¸íŠ¸ë¶", 10, 300000);
Go.buy(apple)

Go.add_cart(apple)
Go.get_cart()

  </script>